SERVER_SRCFILES := \
		   src/ClientException.cc \
		   src/CycleCounter.cc \
		   src/HashTable.cc \
		   src/Master.cc \
		   src/Metrics.cc \
		   src/Status.cc \
		   $(NULL)

SERVER_OBJFILES := $(SERVER_SRCFILES)
SERVER_OBJFILES := $(patsubst src/%.cc, $(OBJDIR)/%.o, $(SERVER_OBJFILES))
SERVER_OBJFILES := $(SERVER_OBJFILES) $(SHARED_OBJFILES)

$(OBJDIR)/server: $(SERVER_OBJFILES) $(OBJDIR)/ServerMain.o
	@mkdir -p $(@D)
	$(CXX) $(CXXFLAGS) -o $@ $^

all: $(OBJDIR)/server
