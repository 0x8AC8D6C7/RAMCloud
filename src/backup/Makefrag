OBJDIRS += backup

BACKUP_SRCFILES := \
		src/backup/backup.cc

BACKUP_OBJFILES := $(BACKUP_SRCFILES)
BACKUP_OBJFILES := $(patsubst src/backup/%.cc, $(OBJDIR)/backup/%.o, $(BACKUP_OBJFILES))
BACKUP_OBJFILES := $(BACKUP_OBJFILES) $(SHARED_OBJFILES)

$(OBJDIR)/backup/backup: $(BACKUP_OBJFILES) $(OBJDIR)/backup/main.o
	@mkdir -p $(@D)
	$(CXX) $(CXXFLAGS) -o $@ $^

$(OBJDIR)/backup/%.o: $(TOP)/src/backup/%.cc
	@mkdir -p $(@D)
	$(CXX) $(CXXFLAGS) -c -o $@ $<

all: $(OBJDIR)/backup/backup
